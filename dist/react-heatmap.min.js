!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.ReactHeatmap=t()}}(function(){var t;return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},e.exports=i},{}],2:[function(t,e,n){"use strict";function r(t,e,n,r,a,o,s,u){if(i(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,o,s,u],f=0;c=new Error(e.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(t){};e.exports=r},{}],3:[function(t,e,n){"use strict";var r=t("./emptyFunction"),i=r;e.exports=i},{"./emptyFunction":1}],4:[function(e,n,r){!function(e,r,i){"undefined"!=typeof n&&n.exports?n.exports=i():"function"==typeof t&&t.amd?t(i):r[e]=i()}("h337",this,function(){var t={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},e=function(){var e=function(t){this._coordinator={},this._data=[],this._radi=[],this._min=0,this._max=1,this._xField=t.xField||t.defaultXField,this._yField=t.yField||t.defaultYField,this._valueField=t.valueField||t.defaultValueField,t.radius&&(this._cfgRadius=t.radius)},n=t.defaultRadius;return e.prototype={_organiseData:function(t,e){var r=t[this._xField],i=t[this._yField],a=this._radi,o=this._data,s=this._max,u=this._min,c=t[this._valueField]||1,l=t.radius||this._cfgRadius||n;return o[r]||(o[r]=[],a[r]=[]),o[r][i]?o[r][i]+=c:(o[r][i]=c,a[r][i]=l),o[r][i]>s?(e?this.setDataMax(o[r][i]):this._max=o[r][i],!1):{x:r,y:i,value:c,radius:l,min:u,max:s}},_unOrganizeData:function(){var t=[],e=this._data,n=this._radi;for(var r in e)for(var i in e[r])t.push({x:r,y:i,radius:n[r][i],value:e[r][i]});return{min:this._min,max:this._max,data:t}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var t=arguments[0],e=t.length;e--;)this.addData.call(this,t[e]);else{var n=this._organiseData(arguments[0],!0);n&&this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[n]})}return this},setData:function(t){var e=t.data,n=e.length;this._data=[],this._radi=[];for(var r=0;r<n;r++)this._organiseData(e[r],!1);return this._max=t.max,this._min=t.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(t){return this._max=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(t){return this._min=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(t){this._coordinator=t},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},e}(),n=function(){function t(t){var n=t.container,r=this.shadowCanvas=document.createElement("canvas"),i=this.canvas=t.canvas||document.createElement("canvas"),a=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(t.container)||{});i.className="heatmap-canvas",this._width=i.width=r.width=+a.width.replace(/px/,""),this._height=i.height=r.height=+a.height.replace(/px/,""),this.shadowCtx=r.getContext("2d"),this.ctx=i.getContext("2d"),i.style.cssText=r.style.cssText="position:absolute;left:0;top:0;",n.style.position="relative",n.appendChild(i),this._palette=e(t),this._templates={},this._setStyles(t)}var e=function(t){var e=t.gradient||t.defaultGradient,n=document.createElement("canvas"),r=n.getContext("2d");n.width=256,n.height=1;var i=r.createLinearGradient(0,0,256,1);for(var a in e)i.addColorStop(a,e[a]);return r.fillStyle=i,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data},n=function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),i=t,a=t;if(n.width=n.height=2*t,1==e)r.beginPath(),r.arc(i,a,t,0,2*Math.PI,!1),r.fillStyle="rgba(0,0,0,1)",r.fill();else{var o=r.createRadialGradient(i,a,t*e,i,a,t);o.addColorStop(0,"rgba(0,0,0,1)"),o.addColorStop(1,"rgba(0,0,0,0)"),r.fillStyle=o,r.fillRect(0,0,2*t,2*t)}return n},r=function(t){for(var e=[],n=t.min,r=t.max,i=t.radi,t=t.data,a=Object.keys(t),o=a.length;o--;)for(var s=a[o],u=Object.keys(t[s]),c=u.length;c--;){var l=u[c],f=t[s][l],d=i[s][l];e.push({x:s,y:l,value:f,radius:d})}return{min:n,max:r,data:e}};return t.prototype={renderPartial:function(t){this._drawAlpha(t),this._colorize()},renderAll:function(t){this._clear(),this._drawAlpha(r(t)),this._colorize()},_updateGradient:function(t){this._palette=e(t)},updateConfig:function(t){t.gradient&&this._updateGradient(t),this._setStyles(t)},setDimensions:function(t,e){this._width=t,this._height=e,this.canvas.width=this.shadowCanvas.width=t,this.canvas.height=this.shadowCanvas.height=e},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(t){this._blur=0==t.blur?0:t.blur||t.defaultBlur,t.backgroundColor&&(this.canvas.style.backgroundColor=t.backgroundColor),this._opacity=255*(t.opacity||0),this._maxOpacity=255*(t.maxOpacity||t.defaultMaxOpacity),this._minOpacity=255*(t.minOpacity||t.defaultMinOpacity),this._useGradientOpacity=!!t.useGradientOpacity},_drawAlpha:function(t){for(var e=this._min=t.min,r=this._max=t.max,t=t.data||[],i=t.length,a=1-this._blur;i--;){var o,s=t[i],u=s.x,c=s.y,l=s.radius,f=Math.min(s.value,r),d=u-l,h=c-l,p=this.shadowCtx;this._templates[l]?o=this._templates[l]:this._templates[l]=o=n(l,a),p.globalAlpha=(f-e)/(r-e),p.drawImage(o,d,h),d<this._renderBoundaries[0]&&(this._renderBoundaries[0]=d),h<this._renderBoundaries[1]&&(this._renderBoundaries[1]=h),d+2*l>this._renderBoundaries[2]&&(this._renderBoundaries[2]=d+2*l),h+2*l>this._renderBoundaries[3]&&(this._renderBoundaries[3]=h+2*l)}},_colorize:function(){var t=this._renderBoundaries[0],e=this._renderBoundaries[1],n=this._renderBoundaries[2]-t,r=this._renderBoundaries[3]-e,i=this._width,a=this._height,o=this._opacity,s=this._maxOpacity,u=this._minOpacity,c=this._useGradientOpacity;t<0&&(t=0),e<0&&(e=0),t+n>i&&(n=i-t),e+r>a&&(r=a-e);for(var l=this.shadowCtx.getImageData(t,e,n,r),f=l.data,d=f.length,h=this._palette,p=3;p<d;p+=4){var y=f[p],v=4*y;if(v){var m;m=o>0?o:y<s?y<u?u:y:s,f[p-3]=h[v],f[p-2]=h[v+1],f[p-1]=h[v+2],f[p]=c?h[v+3]:m}}l.data=f,this.ctx.putImageData(l,t,e),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(t){var e,n=this.shadowCtx,r=n.getImageData(t.x,t.y,1,1),i=r.data[3],a=this._max,o=this._min;return e=Math.abs(a-o)*(i/255)>>0},getDataURL:function(){return this.canvas.toDataURL()}},t}(),r=function(){var e=!1;return"canvas2d"===t.defaultRenderer&&(e=n),e}(),i={merge:function(){for(var t={},e=arguments.length,n=0;n<e;n++){var r=arguments[n];for(var i in r)t[i]=r[i]}return t}},a=function(){function n(){var n=this._config=i.merge(t,arguments[0]||{});if(this._coordinator=new a,n.plugin){var s=n.plugin;if(!t.plugins[s])throw new Error("Plugin '"+s+"' not found. Maybe it was not registered.");var u=t.plugins[s];this._renderer=new u.renderer(n),this._store=new u.store(n)}else this._renderer=new r(n),this._store=new e(n);o(this)}var a=function(){function t(){this.cStore={}}return t.prototype={on:function(t,e,n){var r=this.cStore;r[t]||(r[t]=[]),r[t].push(function(t){return e.call(n,t)})},emit:function(t,e){var n=this.cStore;if(n[t])for(var r=n[t].length,i=0;i<r;i++){var a=n[t][i];a(e)}}},t}(),o=function(t){var e=t._renderer,n=t._coordinator,r=t._store;n.on("renderpartial",e.renderPartial,e),n.on("renderall",e.renderAll,e),n.on("extremachange",function(e){t._config.onExtremaChange&&t._config.onExtremaChange({min:e.min,max:e.max,gradient:t._config.gradient||t._config.defaultGradient})}),r.setCoordinator(n)};return n.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(t){return this._config=i.merge(this._config,t),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(t){return this._store.getValueAt?this._store.getValueAt(t):this._renderer.getValueAt?this._renderer.getValueAt(t):null}},n}(),o={create:function(t){return new a(t)},register:function(e,n){t.plugins[e]=n}};return o})},{}],5:[function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function i(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(a){return!1}}var a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=i()?Object.assign:function(t,e){for(var n,i,u=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)o.call(n,l)&&(u[l]=n[l]);if(a){i=a(n);for(var f=0;f<i.length;f++)s.call(n,i[f])&&(u[i[f]]=n[i[f]])}}return u}},{}],6:[function(t,e,n){"use strict";function r(t,e,n,r,i){}e.exports=r},{"./lib/ReactPropTypesSecret":10,"fbjs/lib/invariant":2,"fbjs/lib/warning":3}],7:[function(t,e,n){"use strict";var r=t("fbjs/lib/emptyFunction"),i=t("fbjs/lib/invariant"),a=t("./lib/ReactPropTypesSecret");e.exports=function(){function t(t,e,n,r,o,s){s!==a&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},{"./lib/ReactPropTypesSecret":10,"fbjs/lib/emptyFunction":1,"fbjs/lib/invariant":2}],8:[function(t,e,n){"use strict";var r=t("fbjs/lib/emptyFunction"),i=t("fbjs/lib/invariant"),a=t("fbjs/lib/warning"),o=t("object-assign"),s=t("./lib/ReactPropTypesSecret"),u=t("./checkPropTypes");e.exports=function(t,e){function n(t){var e=t&&(C&&t[C]||t[S]);if("function"==typeof e)return e}function c(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function l(t){this.message=t,this.stack=""}function f(t){function n(n,r,a,o,u,c,f){if(o=o||k,c=c||a,f!==s)if(e)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[a]?n?new l(null===r[a]?"The "+u+" `"+c+"` is marked as required "+("in `"+o+"`, but its value is `null`."):"The "+u+" `"+c+"` is marked as required in "+("`"+o+"`, but its value is `undefined`.")):null:t(r,a,o,u,c)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function d(t){function e(e,n,r,i,a,o){var s=e[n],u=D(s);if(u!==t){var c=R(s);return new l("Invalid "+i+" `"+a+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("`"+t+"`."))}return null}return f(e)}function h(){return f(r.thatReturnsNull)}function p(t){function e(e,n,r,i,a){if("function"!=typeof t)return new l("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var o=e[n];if(!Array.isArray(o)){var u=D(o);return new l("Invalid "+i+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<o.length;c++){var f=t(o,c,r,i,a+"["+c+"]",s);if(f instanceof Error)return f}return null}return f(e)}function y(){function e(e,n,r,i,a){var o=e[n];if(!t(o)){var s=D(o);return new l("Invalid "+i+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected a single ReactElement."))}return null}return f(e)}function v(t){function e(e,n,r,i,a){if(!(e[n]instanceof t)){var o=t.name||k,s=T(e[n]);return new l("Invalid "+i+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+o+"`."))}return null}return f(e)}function m(t){function e(e,n,r,i,a){for(var o=e[n],s=0;s<t.length;s++)if(c(o,t[s]))return null;var u=JSON.stringify(t);return new l("Invalid "+i+" `"+a+"` of value `"+o+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return Array.isArray(t)?f(e):r.thatReturnsNull}function _(t){function e(e,n,r,i,a){if("function"!=typeof t)return new l("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var o=e[n],u=D(o);if("object"!==u)return new l("Invalid "+i+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."));for(var c in o)if(o.hasOwnProperty(c)){var f=t(o,c,r,i,a+"."+c,s);if(f instanceof Error)return f}return null}return f(e)}function g(t){function e(e,n,r,i,a){for(var o=0;o<t.length;o++){var u=t[o];if(null==u(e,n,r,i,a,s))return null}return new l("Invalid "+i+" `"+a+"` supplied to "+("`"+r+"`."))}if(!Array.isArray(t))return r.thatReturnsNull;for(var n=0;n<t.length;n++){var i=t[n];if("function"!=typeof i)return a(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",P(i),n),r.thatReturnsNull}return f(e)}function b(){function t(t,e,n,r,i){return O(t[e])?null:new l("Invalid "+r+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return f(t)}function x(t){function e(e,n,r,i,a){var o=e[n],u=D(o);if("object"!==u)return new l("Invalid "+i+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."));for(var c in t){var f=t[c];if(f){var d=f(o,c,r,i,a+"."+c,s);if(d)return d}}return null}return f(e)}function w(t){function e(e,n,r,i,a){var u=e[n],c=D(u);if("object"!==c)return new l("Invalid "+i+" `"+a+"` of type `"+c+"` "+("supplied to `"+r+"`, expected `object`."));var f=o({},e[n],t);for(var d in f){var h=t[d];if(!h)return new l("Invalid "+i+" `"+a+"` key `"+d+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var p=h(u,d,r,i,a+"."+d,s);if(p)return p}return null}return f(e)}function O(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(O);if(null===e||t(e))return!0;var r=n(e);if(!r)return!1;var i,a=r.call(e);if(r!==e.entries){for(;!(i=a.next()).done;)if(!O(i.value))return!1}else for(;!(i=a.next()).done;){var o=i.value;if(o&&!O(o[1]))return!1}return!0;default:return!1}}function j(t,e){return"symbol"===t||("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}function D(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":j(e,t)?"symbol":e}function R(t){if("undefined"==typeof t||null===t)return""+t;var e=D(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function P(t){var e=R(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}function T(t){return t.constructor&&t.constructor.name?t.constructor.name:k}var C="function"==typeof Symbol&&Symbol.iterator,S="@@iterator",k="<<anonymous>>",E={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:h(),arrayOf:p,element:y(),instanceOf:v,node:b(),objectOf:_,oneOf:m,oneOfType:g,shape:x,exact:w};return l.prototype=Error.prototype,E.checkPropTypes=u,E.PropTypes=E,E}},{"./checkPropTypes":6,"./lib/ReactPropTypesSecret":10,"fbjs/lib/emptyFunction":1,"fbjs/lib/invariant":2,"fbjs/lib/warning":3,"object-assign":5}],9:[function(t,e,n){e.exports=t("./factoryWithThrowingShims")()},{"./factoryWithThrowingShims":7,"./factoryWithTypeCheckers":8}],10:[function(t,e,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},{}],11:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e,n){for(var r=!0;r;){var i=t,a=e,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var c=Object.getPrototypeOf(i);if(null===c)return;t=c,e=a,n=o,r=!0,s=c=void 0}},c="undefined"!=typeof window?window.React:"undefined"!=typeof r?r.React:null,l=i(c),f=t("prop-types"),d=i(f),h=t("react-dom"),p=i(h),y=t("heatmapjs/build/heatmap.js"),v=i(y),m=function(t){function e(t){a(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.setData=this.setData.bind(this)}return o(e,t),s(e,[{key:"componentDidMount",value:function(){this.heatmap=v["default"].create({container:p["default"].findDOMNode(this)}),this.setData(this.props.max,this.props.data)}},{key:"componentWillReceiveProps",value:function(t){this.setData(t.max,t.data)}},{key:"setData",value:function(t,e){this.heatmap.setData({max:t,data:this.computeData(e)})}},{key:"computeData",value:function(t){var e=this;if("percent"!==this.props.unit)return t;var n=function(){var n={};return n.width=p["default"].findDOMNode(e).offsetWidth,n.height=p["default"].findDOMNode(e).offsetHeight,{v:t.map(function(t,e){return{x:t.x/100*n.width,y:t.y/100*n.height,value:t.value}})}}();return"object"==typeof n?n.v:void 0}},{key:"render",value:function(){return l["default"].createElement("div",{style:{width:"100%",height:"100%"}})}}]),e}(c.Component);m.propTypes={max:d["default"].number,data:d["default"].array,unit:d["default"].string},m.defaultProps={max:5,data:[],unit:"percent"},n["default"]=m,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"heatmapjs/build/heatmap.js":4,"prop-types":9,"react-dom":void 0}]},{},[11])(11)});